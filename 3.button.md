## 1. ç®€ä»‹

`Button`ï¼ˆæŒ‰é’®ï¼‰æ˜¯å›¾å½¢ç”¨æˆ·ç•Œé¢ä¸­æœ€åŸºç¡€ä¸”é«˜é¢‘ä½¿ç”¨çš„äº¤äº’æŽ§ä»¶ã€‚  
åœ¨ **SGLï¼ˆSimple Graphics Libraryï¼‰** ä¸­ï¼ŒæŒ‰é’®æ”¯æŒæ–‡æœ¬ã€å›¾æ ‡ã€èƒŒæ™¯å›¾ç‰‡ã€åœ†è§’ã€è¾¹æ¡†ã€é€æ˜Žåº¦ç­‰å¤šç§æ ·å¼ï¼Œå¹¶å…·å¤‡æŒ‰ä¸‹æ—¶çš„è§†è§‰åé¦ˆã€‚

> âš ï¸ æŒ‰é’®æ˜¯**ç»ˆç«¯æŽ§ä»¶**ï¼Œä¸èƒ½åŒ…å«å­æŽ§ä»¶ã€‚~~ä¸èƒ½ä½œä¸ºçˆ¶~~

---

## 2. åˆ›å»ºæŒ‰é’®

ä½¿ç”¨ `sgl_button_create()` åˆ›å»ºæŒ‰é’®ï¼š

```c
sgl_obj_t* button = sgl_button_create(parent);
```

- `parent`ï¼šçˆ¶å¯¹è±¡ï¼ˆå¯ä¸º `NULL`ï¼Œè¡¨ç¤ºé¡¶å±‚æŽ§ä»¶ï¼‰

---

## 3. å¸¸ç”¨å±žæ€§è®¾ç½®

### 3.1 ä½ç½®ä¸Žå°ºå¯¸

```c
sgl_obj_set_pos(button, x, y);           // è®¾ç½®ä½ç½®
sgl_obj_set_size(button, width, height); // è®¾ç½®å®½é«˜
```

### 3.2 æ–‡æœ¬æ ·å¼

```c
sgl_button_set_text(button, "BUTTON");               // è®¾ç½®æ–‡æœ¬
sgl_button_set_font(button, &consolas23);         // è®¾ç½®å­—ä½“
sgl_button_set_text_color(button, SGL_COLOR_WHITE); // æ–‡æœ¬é¢œè‰²
sgl_button_set_text_align(button, SGL_ALIGN_CENTER); // å¯¹é½æ–¹å¼
```

### 3.3 èƒŒæ™¯ä¸Žé€æ˜Žåº¦

```c
sgl_button_set_color(button, SGL_COLOR_BLUE); // èƒŒæ™¯é¢œè‰²
sgl_button_set_alpha(button, 200);            // é€æ˜Žåº¦ (0~255)
```

### 3.4 è¾¹æ¡†ä¸Žåœ†è§’

```c
sgl_button_set_border_width(button, 2);       // è¾¹æ¡†å®½åº¦
sgl_button_set_border_color(button, SGL_COLOR_BLACK); // è¾¹æ¡†é¢œè‰²
sgl_button_set_radius(button, 10);            // åœ†è§’åŠå¾„
```

### 3.5 å›¾æ ‡ä¸ŽèƒŒæ™¯å›¾

```c
sgl_button_set_icon(button, &icon_pixmap);    // è®¾ç½®å›¾æ ‡ï¼ˆå‰æ™¯ï¼‰
sgl_button_set_pixmap(button, &bg_pixmap);    // è®¾ç½®èƒŒæ™¯å›¾ç‰‡
```

> ðŸ“Œ å›¾æ ‡å’ŒèƒŒæ™¯å›¾éœ€æå‰å®šä¹‰ä¸º `sgl_pixmap_t` ç±»åž‹çš„å…¨å±€å¸¸é‡ã€‚

---

## 3. äº‹ä»¶å¤„ç†æœºåˆ¶

### 3.1 æ”¯æŒçš„äº‹ä»¶ç±»åž‹

| äº‹ä»¶ | è¯´æ˜Ž |
|------|------|
| [`SGL_EVENT_PRESSED`](file://f:\Users\22279\Desktop\sgl-vscode-v1.0\sgl-vscode-debug-test\sgl-vscode-debug-test\sgl\source\include\sgl_event.h#L51) | ç”¨æˆ·æŒ‰ä¸‹æŒ‰é’® |
| [`SGL_EVENT_RELEASED`](file://f:\Users\22279\Desktop\sgl-vscode-v1.0\sgl-vscode-debug-test\sgl-vscode-debug-test\sgl\source\include\sgl_event.h#L52) | ç”¨æˆ·é‡Šæ”¾æŒ‰é’®ï¼ˆå®Œæˆä¸€æ¬¡ç‚¹å‡»ï¼‰|

> âœ… æŽ¨èåœ¨ `SGL_EVENT_RELEASED` ä¸­æ‰§è¡Œä¸šåŠ¡é€»è¾‘ï¼Œé¿å…è¯¯è§¦å‘ã€‚

### 3.2 æ³¨å†Œäº‹ä»¶å›žè°ƒ

```c
sgl_obj_set_event_cb(button, event_handler, user_data);
sgl_obj_set_clickable(button); // å¯ç”¨ç‚¹å‡»åŠŸèƒ½ï¼ˆSGLé»˜è®¤å¯ç‚¹å‡»ï¼‰
```

> ðŸ”’ è‹¥éœ€**ç¦ç”¨æŒ‰é’®**ï¼Œå¯è°ƒç”¨ï¼š  
> `sgl_obj_set_unclickable(button);`

### 3.3 ç¨‹åºåŒ–è§¦å‘äº‹ä»¶

ä½¿ç”¨ [`sgl_event_send_obj()`](file://f:\Users\22279\Desktop\sgl-vscode-v1.0\sgl-vscode-debug-test\sgl-vscode-debug-test\sgl\source\include\sgl_event.h#L223) å¯ä¸»åŠ¨æ¨¡æ‹Ÿç”¨æˆ·æ“ä½œï¼š**%% (é€‚ç”¨äºŽå¤–éƒ¨æŒ‰é”®è§¦å‘) %%**

```c
sgl_event_send_obj(button, SGL_EVENT_PRESSED);
sgl_event_send_obj(button, SGL_EVENT_RELEASED);
```

#### å…¸åž‹åº”ç”¨åœºæ™¯ï¼š
- é”®ç›˜å¿«æ·é”®æ˜ å°„åˆ°æŒ‰é’®åŠŸèƒ½
- å®šæ—¶å™¨æˆ–çŠ¶æ€æœºè§¦å‘æ“ä½œ

> ðŸ’¡ æ­¤å‡½æ•°ä¼š**ç«‹å³è°ƒç”¨äº‹ä»¶å›žè°ƒ**ï¼Œä¸è¦å°†è¿™ä¸¤æ¡å‡½æ•°è¿žç»­çš„ä½¿ç”¨ï¼Œä¸­é—´é¡»ç”¨å»¶æ—¶æˆ–é€šè¿‡åˆ¤æ–­æŒ‰é”®çš„çŠ¶æ€æ¥åˆ†åˆ«è°ƒç”¨ï¼Œè¿™æ ·æŒ‰é”®è¢«ç‚¹å‡»çš„é‚£ä¸ªæ”¾å¤§æ•ˆæžœæ‰èƒ½æ­£å¸¸è¢«çœ‹åˆ°ã€‚

---

## 4. åº”ç”¨ç¤ºä¾‹

```c

static int click_count = 0;

static void on_button_event(sgl_event_t* event) {
Â  Â  switch (event->type) {
Â  Â  Â  Â  case SGL_EVENT_PRESSED:
Â  Â  Â  Â  Â  Â  SGL_LOG_INFO("PRESSED\n");
Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  case SGL_EVENT_RELEASED:
Â  Â  Â  Â  Â  Â  click_count++;
Â  Â  Â  Â  Â  Â  SGL_LOG_INFO("count: %d\n", click_count);
Â  Â  Â  Â  Â  Â  break;
Â  Â  }
}

int main(void) {
    sgl_init();
    sgl_obj_t* page = sgl_obj_create(NULL);
    sgl_screen_load(page);

    // å®¹å™¨
    sgl_obj_t* container = sgl_rect_create(page);
    sgl_obj_set_pos(container, 20, 20);
    sgl_obj_set_size(container, 400, 250);
    sgl_rect_set_color(container, SGL_COLOR_LIGHT_GRAY);

    // ç¤ºä¾‹æŒ‰é’®
    sgl_obj_t* btn1 = sgl_button_create(container);
    sgl_obj_set_pos(btn1, 20, 20);
    sgl_obj_set_size(btn1, 120, 40);
    sgl_button_set_text(btn1, "åœ†è§’æŒ‰é’®");
    sgl_button_set_color(btn1, SGL_COLOR_GREEN);
    sgl_button_set_text_color(btn1, SGL_COLOR_WHITE);
    sgl_button_set_radius(btn1, 10);
    sgl_obj_set_event_cb(btn1, on_button_event, NULL);
    sgl_obj_set_clickable(btn1);


    while (1) {

        ..................
    }


}
```

![png0](imag/3/1.png)

---

## 5. é«˜çº§æ ·å¼

1.[åŸºäºŽæŒ‰é’®çš„æ»‘åŠ¨èœå•](demo/sliding_menu_demo.md)

2.[åŸºäºŽæŒ‰é’®çš„åŠ¨ç”»æ¼”ç¤º](demo/button_anim.c)

---


---

> ðŸ“˜ ç›¸å…³å¤´æ–‡ä»¶è·¯å¾„ï¼š  
> - æŒ‰é’® APIï¼š`sgl/source/widgets/button/sgl_button.h`  
> - äº‹ä»¶ç³»ç»Ÿï¼š`sgl/source/include/sgl_event.h`  
> - æ ¸å¿ƒå¯¹è±¡ï¼š`sgl/source/include/sgl_core.h`

---

