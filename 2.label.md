# SGL Label æŽ§ä»¶åº”ç”¨æŒ‡å—

## 1. ç®€ä»‹

`Label`ï¼ˆæ ‡ç­¾ï¼‰æ˜¯å›¾å½¢ç”¨æˆ·ç•Œé¢ä¸­æœ€åŸºç¡€çš„**é™æ€æ–‡æœ¬æ˜¾ç¤ºæŽ§ä»¶**ã€‚  
åœ¨ **SGLï¼ˆSimple Graphics Libraryï¼‰** ä¸­ï¼Œ`Label` ä¸»è¦ç”¨äºŽå±•ç¤ºä¸å¯ç¼–è¾‘çš„æ–‡æœ¬ä¿¡æ¯ï¼Œæ”¯æŒä¸°å¯Œçš„æ ·å¼é…ç½®ã€‚

> âš ï¸ **é‡è¦ç‰¹æ€§**ï¼š
> - æ˜¯**ç»ˆç«¯æŽ§ä»¶ï¼ˆleaf widgetï¼‰**ï¼Œ**ä¸èƒ½åŒ…å«å­æŽ§ä»¶**
> - **ä¸èƒ½ä½œä¸ºçˆ¶å¯¹è±¡**åˆ›å»ºå…¶ä»–æŽ§ä»¶
> - æ”¯æŒæ–‡æœ¬ã€å›¾æ ‡ï¼ˆIconï¼‰ã€èƒŒæ™¯ã€åœ†è§’ã€é€æ˜Žåº¦ã€å¯¹é½ã€åç§»ç­‰

---

## 2. åˆ›å»º Label

ä½¿ç”¨ `sgl_label_create()` åˆ›å»ºæ ‡ç­¾æŽ§ä»¶ï¼š

```c
sgl_obj_t* sgl_label_create(sgl_obj_t* parent);
```

- **`parent`**ï¼šçˆ¶å¯¹è±¡æŒ‡é’ˆï¼ˆå¦‚ `Page` æˆ– `Rect`ï¼‰ï¼Œä¸å¯ä¸º `NULL`ï¼ˆå¿…é¡»æŒ‚è½½åˆ°æœ‰æ•ˆå®¹å™¨ï¼‰

ç¤ºä¾‹ï¼š
```c
sgl_obj_t* label = sgl_label_create(page);
```

---

## 3. å±žæ€§è®¾ç½®æŽ¥å£

æ‰€æœ‰è®¾ç½®å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°å‡ä¸º `sgl_obj_t* obj`ï¼Œå³é€šè¿‡ `sgl_label_create()` è¿”å›žçš„å¯¹è±¡æŒ‡é’ˆã€‚

### 3.1 æ–‡æœ¬ä¸Žå­—ä½“

| åŠŸèƒ½     | å‡½æ•°åŽŸåž‹                                                               | å‚æ•°è¯´æ˜Ž                                  |
| ------ | ------------------------------------------------------------------ | ------------------------------------- |
| è®¾ç½®æ–‡æœ¬å†…å®¹ | `void sgl_label_set_text(sgl_obj_t *obj, const char *text)`        | `text`ï¼šC å­—ç¬¦ä¸²ï¼ˆæ”¯æŒ UTF-8 ç¼–ç ï¼Œå¯åµŒå…¥ Icon å­—ç¬¦ï¼‰ |
| è®¾ç½®å­—ä½“   | `void sgl_label_set_font(sgl_obj_t *obj, const sgl_font_t *font)`  | `font`ï¼šå­—ä½“æŒ‡é’ˆï¼ˆ**å¿…é¡»è®¾ç½®ï¼Œå¦åˆ™è¿è¡Œæ—¶æ–­è¨€å¤±è´¥**ï¼‰       |
| è®¾ç½®æ–‡æœ¬é¢œè‰² | `void sgl_label_set_text_color(sgl_obj_t *obj, sgl_color_t color)` | `color`ï¼šæ–‡æœ¬å‰æ™¯è‰²ï¼ˆå¦‚ `SGL_COLOR_BLACK`ï¼‰    |

> ðŸ”” **æ³¨æ„**ï¼šæºç ä¸­ `sgl_label_construct_cb` åŒ…å« `SGL_ASSERT(label->font != NULL)`ï¼Œæœªè®¾å­—ä½“ä¼šå¯¼è‡´ç¨‹åºç»ˆæ­¢ã€‚

### 3.2 å›¾æ ‡ï¼ˆIconï¼‰æ”¯æŒ

| åŠŸèƒ½ | å‡½æ•°åŽŸåž‹ | å‚æ•°è¯´æ˜Ž |
|------|--------|--------|
| è®¾ç½®å›¾æ ‡ | `void sgl_label_set_icon(sgl_obj_t *obj, const sgl_icon_pixmap_t *icon)` | `icon`ï¼šæŒ‡å‘å›¾æ ‡åƒç´ å›¾ç»“æž„çš„æŒ‡é’ˆï¼ˆè‹¥ä½¿ç”¨ Icon Fontï¼Œåˆ™æ— éœ€æ­¤æŽ¥å£ï¼Œç›´æŽ¥åœ¨æ–‡æœ¬ä¸­åµŒå…¥ Unicode å³å¯ï¼‰ |

> ðŸ’¡ æç¤ºï¼šSGL æ”¯æŒé€šè¿‡ **sgl_label_set_textæŽ¥å£** æ˜¾ç¤ºå›¾æ ‡ï¼Œæ­¤æ—¶å›¾æ ‡é¢œè‰²ä¸Žæ–‡æœ¬é¢œè‰²ä¸€è‡´ã€‚

### 3.3 å¯¹é½ä¸Žåç§»

| åŠŸèƒ½ | å‡½æ•°åŽŸåž‹ | å‚æ•°è¯´æ˜Ž |
|------|--------|--------|
| è®¾ç½®æ–‡æœ¬å¯¹é½ | `void sgl_label_set_text_align(sgl_obj_t *obj, sgl_align_type_t align)` | `align`ï¼šå¯¹é½æ–¹å¼ï¼ˆå¦‚ `SGL_ALIGN_LEFT`, `SGL_ALIGN_CENTER`, `SGL_ALIGN_RIGHT`ï¼‰ |
| è®¾ç½®æ–‡æœ¬åç§» | `void sgl_label_set_text_offset(sgl_obj_t *obj, int8_t offset_x, int8_t offset_y)` | `offset_x/y`ï¼šæ–‡æœ¬ç»˜åˆ¶ä½ç½®çš„åƒç´ åç§»é‡ï¼ˆå¯ç”¨äºŽå¾®è°ƒ Icon ä¸Žæ–‡å­—é—´è·ï¼‰ |

### 3.4 èƒŒæ™¯ä¸Žé€æ˜Žåº¦

| åŠŸèƒ½ | å‡½æ•°åŽŸåž‹ | å‚æ•°è¯´æ˜Ž |
|------|--------|--------|
| è®¾ç½®èƒŒæ™¯é¢œè‰² | `void sgl_label_set_bg_color(sgl_obj_t *obj, sgl_color_t color)` | `color`ï¼šèƒŒæ™¯å¡«å……è‰²ï¼›è°ƒç”¨åŽè‡ªåŠ¨å¯ç”¨èƒŒæ™¯ç»˜åˆ¶ï¼ˆ`bg_flag = 1`ï¼‰ |
| è®¾ç½®é€æ˜Žåº¦ | `void sgl_label_set_alpha(sgl_obj_t *obj, uint8_t alpha)` | `alpha`ï¼šæ•´ä½“é€æ˜Žåº¦ï¼ˆ0=é€æ˜Žï¼Œ255=ä¸é€æ˜Žï¼‰ |

### 3.5 åœ†è§’ä¸Žè¾¹æ¡†

| åŠŸèƒ½ | å‡½æ•°åŽŸåž‹ | å‚æ•°è¯´æ˜Ž |
|------|--------|--------|
| è®¾ç½®åœ†è§’åŠå¾„ | `void sgl_label_set_radius(sgl_obj_t *obj, uint8_t radius)` | `radius`ï¼šåœ†è§’åƒç´ å€¼ï¼ˆå†…éƒ¨è°ƒç”¨ `sgl_obj_fix_radius()` ä¿®æ­£ï¼‰ |
| è®¾ç½®è¾¹æ¡†å®½åº¦ | âŒ **ä¸æ”¯æŒ** | `Label` æŽ§ä»¶**ä¸æä¾›** `set_border_width` æŽ¥å£ |
| è®¾ç½®è¾¹æ¡†é¢œè‰² | âŒ **ä¸æ”¯æŒ** | `Label` æŽ§ä»¶**ä¸æä¾›** `set_border_color` æŽ¥å£ |

> ðŸ“Œ **å£°æ˜Ž**ï¼š  
> æ ¹æ® `sgl_label.h` å’Œ `sgl_label.c` æºç ï¼Œ**Label æŽ§ä»¶ä¸æ”¯æŒç‹¬ç«‹è¾¹æ¡†è®¾ç½®**ã€‚  
> è‹¥éœ€è¾¹æ¡†æ•ˆæžœï¼Œå¯é€šè¿‡ä»¥ä¸‹æ–¹å¼å®žçŽ°ï¼š
> - ä½¿ç”¨å¸¦è¾¹æ¡†çš„ `Rect` ä½œä¸ºå®¹å™¨
> - è‡ªå®šä¹‰ç»˜åˆ¶é€»è¾‘ï¼ˆç»§æ‰¿æ‰©å±•ï¼‰

---

## 4. åº”ç”¨ç¤ºä¾‹

```c
Â  Â  #define SGL_ICON_E65D_USER_NAME "\xEE\x99\x9D"
Â  Â  
Â  Â  sgl_obj_t* page = sgl_obj_create(NULL);
Â  Â  sgl_screen_load(page);

Â  Â  // å®¹å™¨
Â  Â  sgl_obj_t* container = sgl_rect_create(page);
Â  Â  sgl_obj_set_pos(container, 20, 20);
Â  Â  sgl_obj_set_size(container, 400, 250);
Â  Â  sgl_rect_set_color(container, SGL_COLOR_LIGHT_GRAY);
Â  Â  // ç¤ºä¾‹æ ‡ç­¾
Â  Â  sgl_obj_t* label1 = sgl_label_create(container);
Â  Â  sgl_obj_set_pos(label1, 20, 20);
Â  Â  sgl_obj_set_size(label1, 200, 40);
Â  Â  sgl_label_set_text(label1, "label test");
Â  Â  sgl_label_set_font(label1, &consolas23);
Â  Â  sgl_label_set_text_color(label1, SGL_COLOR_BLACK);
Â  Â  sgl_label_set_bg_color(label1, SGL_COLOR_WHITE);
Â  Â  sgl_label_set_radius(label1, 5);

Â  Â  // iconæ ‡ç­¾
Â  Â  sgl_obj_t* label2 = sgl_label_create(container);
Â  Â  sgl_obj_set_pos(label2, 20, 80);
Â  Â  sgl_obj_set_size(label2, 200, 30);
Â  Â  sgl_label_set_text(label2,SGL_ICON_E65D_USER_NAME "123456");//SGLä½¿ç”¨Iconå›¾æ ‡å¯ä»¥ä½¿ç”¨UTF-8çš„ç¼–ç è¿›è¡Œæ˜¾ç¤ºä¸è¿‡è¿™æ ·å†™çš„æ˜¾ç¤ºå‡ºæ¥çš„Iconé¢œè‰²åªèƒ½æ˜¯å’Œå­—ä½“ä¸€æ ·ã€‚å½“ç„¶å­—ç¬¦ä¹Ÿå¯ä»¥ä½¿ç”¨UTF-8ç¼–ç ç›´æŽ¥æ˜¾ç¤ºã€‚
Â  Â  sgl_label_set_font(label2, &iconfont_24);
Â  Â  sgl_label_set_text_color(label2, SGL_COLOR_BLACK);
Â  Â  sgl_label_set_bg_color(label2, SGL_COLOR_BLUE);
Â  Â  sgl_label_set_radius(label2, 10);

```

![Label ç¤ºä¾‹](imag/2/0.png)

---

## 5. æœ€ä½³å®žè·µ

- âœ… **å§‹ç»ˆè®¾ç½®å­—ä½“**ï¼šé¿å…å› æœªåˆå§‹åŒ–å­—ä½“å¯¼è‡´æ–­è¨€å´©æºƒã€‚
- âœ… **åˆç†ä½¿ç”¨ Icon Font**ï¼šå°†å›¾æ ‡ç¼–ç åµŒå…¥æ–‡æœ¬å­—ç¬¦ä¸²ï¼Œç®€åŒ– UI æž„å»ºã€‚
- âœ… **åˆ©ç”¨æ–‡æœ¬åç§»å¾®è°ƒå¸ƒå±€**ï¼šå½“ Icon ä¸Žæ–‡å­—åž‚ç›´ä¸å¯¹é½æ—¶ï¼Œç”¨ `set_text_offset()` è°ƒæ•´ã€‚
- âš ï¸ **ä¸è¦å°è¯•æ·»åŠ å­æŽ§ä»¶**ï¼šLabel æ˜¯ç»ˆç«¯æŽ§ä»¶ï¼Œ`sgl_button_create(label)` ç­‰æ“ä½œæ— æ•ˆã€‚
- ðŸŽ¨ **èƒŒæ™¯æ›¿ä»£è¾¹æ¡†**ï¼šè‹¥éœ€â€œè¾¹æ¡†â€æ•ˆæžœï¼Œå¯ä½¿ç”¨æµ…è‰²èƒŒæ™¯ + å†…è¾¹è·æ¨¡æ‹Ÿã€‚

---
> ðŸ“˜ **ç›¸å…³å¤´æ–‡ä»¶è·¯å¾„**  
> - Label APIï¼š`sgl/source/widgets/sgl_label.h`  
> - æ ¸å¿ƒå¯¹è±¡ï¼š`sgl/source/include/sgl_core.h`
---
